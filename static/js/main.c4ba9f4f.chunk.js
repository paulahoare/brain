(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/brain_logo.8d25adc3.svg"},15:function(e,t,a){e.exports=a.p+"static/media/Brain_Journal.c95ef548.xml"},17:function(e,t,a){e.exports=a(30)},22:function(e,t,a){},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),i=a.n(l),o=(a(22),a(1)),c=a(2),s=a(3),u=a(5),d=a(4),p=a(6),m=a(14),b=a.n(m),h=(a(24),a(15)),f=a.n(h),E=a(16);var v=function(e,t,a){fetch(e).then(function(e){return e.text()}).then(function(e){return E.parse(e)}).then(function(e){t(e)},function(e){a(e)})},j=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"App-brand"},"OXFORD Academic"),r.a.createElement("div",{className:"App-logo"},r.a.createElement("img",{src:b.a,alt:"Brain, a Journal of Neurology"}))),r.a.createElement(k,null))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={title:null,pubDate:null,url:null,error:null,isLoaded:!1,articles:null},a.onDataLoadError=a.onDataLoadError.bind(Object(o.a)(Object(o.a)(a))),a.onDataLoad=a.onDataLoad.bind(Object(o.a)(Object(o.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.isLoaded?this.state.error?r.a.createElement("section",{className:"App-error"},"Error: Failed to load current journal."):r.a.createElement("section",{className:"App-content"},r.a.createElement(O,{pubDate:this.state.pubDate,title:this.state.title,link:this.state.url}),r.a.createElement(D,{articles:this.state.articles})):r.a.createElement("section",{className:"App-loading"},"Loading current journal...")}},{key:"componentDidMount",value:function(){var e=this;v(f.a,function(t){e.onDataLoad(t)},function(t){e.onDataLoadError(t)})}},{key:"onDataLoad",value:function(e){this.setState({isLoaded:!0,title:e.title,pubDate:e.lastPublished,url:e.links.length?e.links[0].url:null,articles:e.items})}},{key:"onDataLoadError",value:function(e){this.setState({isLoaded:!0,error:!0}),console.log("Failed to load journal RSS"),console.log(e)}}]),t}(n.Component);function O(e){return r.a.createElement("div",{className:"Journal-header"},r.a.createElement("div",{className:"Journal-title"},e.title),r.a.createElement(N,{pubDate:e.pubDate,pubClass:"Journal-published"}),r.a.createElement(A,{link:e.link}))}var D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Array.isArray(this.props.articles)?this.props.articles.map(function(e,t){return r.a.createElement("article",{key:e.id},r.a.createElement("h3",null,e.title),r.a.createElement("div",{className:"Article-details"},r.a.createElement("div",{className:"Article-author"},e.authors.length?e.authors[0].name:""),r.a.createElement(N,{pubDate:e.published,pubClass:"Article-published"}),r.a.createElement(A,{link:e.id})))}):r.a.createElement("div",{className:"Articles-none"},"No articles found.");return r.a.createElement("div",{className:"Articles"},e)}}]),t}(n.Component);function N(e){if(!e.pubDate)return null;var t=e.pubClass?e.pubClass:"Article-published",a=e.pubDate.indexOf(" 00:00:00 GMT"),n=a>0?e.pubDate.slice(0,a):e.pubDate;if(""===e.pubLabel)return r.a.createElement("div",{className:t},n);var l=e.pubLabel?e.pubLabel:"Published:";return r.a.createElement("div",{className:t},l+" "+n)}function A(e){return e.link?r.a.createElement("a",{className:"App-link",href:e.link,target:"_blank",rel:"noopener noreferrer"},e.link):null}var g=j;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.c4ba9f4f.chunk.js.map